import{useState as t,useRef as e,useEffect as r}from"react";export default function(n){void 0===n&&(n={});var i=t(null),u=i[0],c=i[1],o=e(null),a=e(void 0),f=n.ref||o;return a.current=n.onChange,r(function(){var t=f.current;if(t&&n.options){var e=n.options;e.accept&&t.setAttribute("accept",e.accept),e.multiple&&t.setAttribute("multiple","multiple")}},[f,n]),r(function(){var t=f.current;if(t){var e=function(t){return a.current?a.current(t):function(t){var e=Array.from(t.currentTarget.files);c(e)}(t)};return t.setAttribute("type","file"),t.addEventListener("change",e,!1),function(){t.removeEventListener("change",e,!1)}}},[f]),{ref:f,files:u}}
