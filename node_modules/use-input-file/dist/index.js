var e=require("react");module.exports=function(t){void 0===t&&(t={});var r=e.useState(null),n=r[0],u=r[1],i=e.useRef(null),c=e.useRef(void 0),f=t.ref||i;return c.current=t.onChange,e.useEffect(function(){var e=f.current;if(e&&t.options){var r=t.options;r.accept&&e.setAttribute("accept",r.accept),r.multiple&&e.setAttribute("multiple","multiple")}},[f,t]),e.useEffect(function(){var e=f.current;if(e){var t=function(e){return c.current?c.current(e):function(e){var t=Array.from(e.currentTarget.files);u(t)}(e)};return e.setAttribute("type","file"),e.addEventListener("change",t,!1),function(){e.removeEventListener("change",t,!1)}}},[f]),{ref:f,files:n}};
